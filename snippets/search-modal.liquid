<div class="search-overlay" style="display: none;" id="searchModal">
  <div class="search-container">
    <form action="{{ routes.search_url }}" method="get" role="search">
      <input type="text" 
             name="q" 
             class="search-input"
             value="{{ search.terms | escape }}"
             placeholder="{{ 'general.search.placeholder' | t }}"
             aria-label="{{ 'general.search.placeholder' | t }}">
      <button type="button" class="close-button" onclick="closeSearch()">Ã—</button>
    </form>
    <div class="search-results">
      {% if search.performed %}
        <!-- Your existing search results markup -->
      {% endif %}
    </div>
  </div>
</div>

<style>
  .search-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: white;
    z-index: 1000;
    display: flex;
    flex-direction: column;
    align-items: center;
  }

  .search-container {
    width: 100%;
    max-width: 600px;
    padding: 20px;
    margin-top: 40px;
    position: relative;
  }

  .search-input {
    width: 100%;
    padding: 12px 40px 12px 12px;
    font-size: 16px;
    border: none;
    border-bottom: 1px solid #ddd;
    outline: none;
  }

  .close-button {
    position: absolute;
    top: 20px;
    right: 20px;
    background: none;
    border: none;
    cursor: pointer;
    padding: 10px;
    font-size: 24px;
  }
</style>

<script>
  function openSearch() {
    const searchModal = document.getElementById('searchModal');
    searchModal.style.display = 'flex';
    const searchInput = searchModal.querySelector('.search-input');
    searchInput.focus();
  }

  function closeSearch() {
    const searchModal = document.getElementById('searchModal');
    searchModal.style.display = 'none';
  }

  // Close search when clicking outside
  document.addEventListener('mousedown', function(event) {
    const searchModal = document.getElementById('searchModal');
    const searchContainer = searchModal.querySelector('.search-container');
    
    if (!searchContainer.contains(event.target) && searchModal.style.display === 'flex') {
      closeSearch();
    }
  });
</script> 